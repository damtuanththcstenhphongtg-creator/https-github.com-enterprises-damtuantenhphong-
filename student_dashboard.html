<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>B·∫£ng ƒëi·ªÅu khi·ªÉn h·ªçc sinh</title>
<style>
    body { font-family: Arial; padding: 20px; background: #f5f5f5; }
    h2 { color: #333; }
    .exam-item {
        background: white;
        padding: 12px;
        border-radius: 8px;
        margin-bottom: 12px;
        border-left: 5px solid #007bff;
    }
    button {
        padding: 6px 12px;
        border-radius: 6px;
        border: none;
        background: #007bff;
        color: white;
        cursor: pointer;
    }
    button:hover { opacity: 0.8; }
</style>
</head>
<body>

<h2>üìò Danh s√°ch b√†i ki·ªÉm tra</h2>
<div id="examList">ƒêang t·∫£i danh s√°ch ƒë·ªÅ...</div>

<script>
// üî• Load danh s√°ch ƒë·ªÅ t·ª´ data/exams/index.json
async function loadExams() {
    const examListDiv = document.getElementById("examList");

    try {
        const response = await fetch("../data/exams/index.json");

        if (!response.ok) {
            examListDiv.innerHTML = "‚ùå Kh√¥ng th·ªÉ t·∫£i danh s√°ch ƒë·ªÅ ki·ªÉm tra!";
            return;
        }

        const indexData = await response.json();

        if (!indexData.exams || indexData.exams.length === 0) {
            examListDiv.innerHTML = "‚ö† Ch∆∞a c√≥ ƒë·ªÅ ki·ªÉm tra n√†o.";
            return;
        }

        let html = "";

        indexData.exams.forEach(exam => {
            html += `
                <div class="exam-item">
                    <h3>${exam.title}</h3>
                    <p><strong>L·ªõp:</strong> ${exam.grade}</p>
                    <p><strong>M√¥n:</strong> ${exam.subject}</p>
                    <button onclick="startExam('${exam.file}')">L√†m b√†i</button>
                </div>
            `;
        });

        examListDiv.innerHTML = html;

    } catch (err) {
        console.error(err);
        examListDiv.innerHTML = "‚ùå L·ªói khi t·∫£i danh s√°ch ƒë·ªÅ.";
    }
}

// üî• Chuy·ªÉn sang trang l√†m b√†i + truy·ªÅn file JSON v√†o URL
function startExam(examFile) {
    window.location.href = `student_do_exam.html?exam=${examFile}`;
}

loadExams();
</script>

</body>
</html>

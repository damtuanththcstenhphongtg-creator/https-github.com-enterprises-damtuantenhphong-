<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Qu·∫£n l√Ω l·ªõp 9 ‚Äì Gi√°o vi√™n</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #eef2f3;
    margin: 0;
}
header {
    background: #0077b6;
    color: white;
    padding: 15px;
    font-size: 24px;
    text-align: center;
}
.container {
    width: 90%;
    margin: 20px auto;
}
table {
    width: 100%;
    border-collapse: collapse;
    background: white;
}
th, td {
    padding: 10px;
    border: 1px solid #ccc;
}
th {
    background: #0077b6;
    color: white;
}
button {
    padding: 6px 12px;
    border: none;
    color: white;
    border-radius: 4px;
    cursor: pointer;
}
.delete-btn {
    background: #d00000;
}
.delete-btn:hover {
    background: #9b0000;
}
.add-btn {
    background: #2b9348;
}
.add-btn:hover {
    background: #1a7431;
}
.back-btn {
    background: #6c757d;
}
.add-box {
    background: white;
    padding: 15px;
    margin-top: 20px;
    border-radius: 6px;
    box-shadow: 0 0 5px #bbb;
}
input, select {
    padding: 8px;
    margin: 5px;
    width: 220px;
}
</style>
</head>

<body>

<header>üìò QU·∫¢N L√ù DANH S√ÅCH L·ªöP 9A1 ‚Äì 9A2</header>

<div class="container">

<h2>Danh s√°ch h·ªçc sinh</h2>

<table id="studentTable"></table>

<div class="add-box">
    <h3>‚ûï Th√™m h·ªçc sinh</h3>
    <input type="text" id="newUser" placeholder="T√™n ƒëƒÉng nh·∫≠p">
    <input type="text" id="newPass" placeholder="M·∫≠t kh·∫©u">
    <select id="newClass">
        <option value="9A1">9A1</option>
        <option value="9A2">9A2</option>
    </select>
    <br>
    <button class="add-btn" onclick="addStudent()">Th√™m h·ªçc sinh</button>
</div>

<br>
<button class="back-btn" onclick="location.href='teacher_dashboard.html'">‚¨Ö Quay l·∫°i</button>

</div>

<script>
// ===============================
// DANH S√ÅCH M·∫∂C ƒê·ªäNH
// ===============================
const defaultStudents = [
    { username: "lau_a_cuong", password: "123456", class: "9A1" },
    { username: "lau_a_da", password: "123456", class: "9A1" },
    { username: "mua_a_de", password: "123456", class: "9A1" },
    { username: "vang_a_tuan", password: "123456", class: "9A1" },

    { username: "lau_a_binh", password: "123456", class: "9A2" },
    { username: "mua_a_cong", password: "123456", class: "9A2" },
    { username: "giang_a_son", password: "123456", class: "9A2" }
];

// L·∫•y d·ªØ li·ªáu t·ª´ localStorage
let students = JSON.parse(localStorage.getItem("students_grade9"));
if (!students) {
    students = defaultStudents;
    saveData();
}

// ===============================
// HI·ªÇN TH·ªä B·∫¢NG
// ===============================
function loadTable() {
    const table = document.getElementById("studentTable");
    table.innerHTML = `
        <tr>
            <th>STT</th>
            <th>T√™n ƒëƒÉng nh·∫≠p</th>
            <th>M·∫≠t kh·∫©u</th>
            <th>L·ªõp</th>
            <th>Thao t√°c</th>
        </tr>
    `;

    students.forEach((s, i) => {
        table.innerHTML += `
            <tr>
                <td>${i + 1}</td>
                <td>${s.username}</td>
                <td>${s.password}</td>
                <td>${s.class}</td>
                <td>
                    <button class="delete-btn" onclick="deleteStudent(${i})">X√≥a</button>
                </td>
            </tr>
        `;
    });
}

function saveData() {
    localStorage.setItem("students_grade9", JSON.stringify(students));
}

// ===============================
// TH√äM H·ªåC SINH
// ===============================
function addStudent() {
    const user = newUser.value.trim();
    const pass = newPass.value.trim();
    const cls = newClass.value;

    if (!user || !pass) {
        alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!");
        return;
    }

    if (students.some(s => s.username === user)) {
        alert("T√™n ƒëƒÉng nh·∫≠p ƒë√£ t·ªìn t·∫°i!");
        return;
    }

    students.push({ username: user, password: pass, class: cls });
    saveData();
    loadTable();

    newUser.value = "";
    newPass.value = "";
}

// ===============================
// XO√Å H·ªåC SINH
// ===============================
function deleteStudent(index) {
    if (confirm("B·∫°n ch·∫Øc ch·∫Øn mu·ªën xo√° h·ªçc sinh n√†y?")) {
        students.splice(index, 1);
        saveData();
        loadTable();
    }
}

loadTable();
</script>

</body>
</html>
